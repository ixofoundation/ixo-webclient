---
id: k60idchk
title: exponentialBackoff
file_version: 1.1.3
app_version: 1.18.2
---

### **Title: Exponential Backoff Function**

---

#### Intro

The `exponentialBackoff` function is designed to handle retries for operations that might fail temporarily, using an exponential backoff strategy. The function will keep retrying the operation until either it succeeds or the maximum number of retries is reached.

---

#### What Does It Do?

This function takes an asynchronous operation that returns a Promise (`operation`) and retries it up to `maxRetries` times in case of failure. It waits for a period specified by `baseDelayMs` before the first retry and doubles this delay after each subsequent retry, up to `maxDelayMs`.

The function uses:

- **operation**: An asynchronous function that performs the operation and returns a Promise.

- **maxRetries**: The maximum number of retries before giving up.

- **baseDelayMs**: The initial delay before the first retry in milliseconds. Defaults to 1000ms.

- **maxDelayMs**: The maximum delay between retries in milliseconds. Defaults to 30000ms.

---

#### Code Anatomy

```typescript
let retries = 0 // Keeps track of the number of retries

// retry is an inner function that handles the actual retry logic
const retry = async () => {
  try {
    return await operation() // Try the operation
  } catch (error) {
    retries++

    // Calculate delay and retry if under maxRetries
    if (retries <= maxRetries) {
      const delayMs = Math.min(baseDelayMs * Math.pow(2, retries - 1), maxDelayMs)
      await new Promise((resolve) => setTimeout(resolve, delayMs))
      return retry()
    } else {
      throw error // Max retries reached, rethrow the error
    }
  }
}

return retry() // Initiate the first operation or retry
```

---

#### Usage Example

To use the `exponentialBackoff` function to retry an operation, simply pass the operation as a function returning a Promise. You can also specify the number of max retries and delays:

```typescript
const result = await exponentialBackoff(
  async () => {
    // Your operation here, e.g., an HTTP request
  },
  3,
  1000,
  10000,
)
```

---

#### Points to Consider

1.  Make sure the `operation` you pass is idempotent to avoid unintended side effects due to multiple attempts.

2.  Be mindful of the maximum delay and number of retries to ensure your application remains responsive.

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBaXhvLXdlYmNsaWVudCUzQSUzQWl4b2ZvdW5kYXRpb24=/docs/k60idchk).
